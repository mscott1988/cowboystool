<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Parts Restock – Cowboys AC</title>
  <link rel="stylesheet" href="style.css" />
  <style>
    /* Center layout like dashboard */
    main.container { display: flex; flex-direction: column; align-items: center; }
    .dashboard-title { margin-bottom: 1.5rem; }
    .wizard-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(120px, 1fr)); gap: 1rem; width: 100%; max-width: 800px; margin-bottom: 2rem; }
    .part-button {
      background: #324529;
      color: #fff;
      border: none;
      border-radius: 8px;
      padding: 0.75rem 1rem;
      font-size: 1rem;
      cursor: pointer;
      position: relative;
    }
    .part-button .count {
      position: absolute;
      top: 4px;
      right: 8px;
      background: #E63946;
      border-radius: 50%;
      width: 24px;
      height: 24px;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 0.8rem;
    }
    .footer-nav a { margin-top: 2rem; }
  </style>
</head>
<body>
  <!-- Floating header -->
  <div id="floating-bar">
    <div class="info-panels-left">
      <div>Installs Today: <span id="installs-count">0</span></div>
      <div id="current-datetime"></div>
    </div>
    <div class="info-panels-right">
      <div id="weather-info">72°F Sunny</div>
    </div>
    <div class="header-buttons">
      <a href="index.html" class="btn">Dashboard</a>
      <a href="internal-dashboard.html" class="btn">Office Use Only</a>
    </div>
  </div>

  <!-- Logo -->
  <div class="logo-container">
    <img src="assets/cowboyslogo.png" alt="Cowboys AC Logo" class="logo" />
  </div>

  <main class="container">
    <h1 class="dashboard-title">Parts Restock</h1>
    <p>Select parts to increment quantity:</p>
    <div class="wizard-grid" id="parts-grid">
      <!-- JS will populate buttons -->
    </div>
    <div class="wizard-nav">
      <button id="submit-btn" class="btn">Submit Request</button>
    </div>
    <div class="footer-nav">
      <a href="index.html" class="btn">← Return to Main Menu</a>
    </div>
  </main>

  <footer>© 2025 Cowboys AC – All Rights Reserved</footer>

  <script>
    // Parts list
    const parts = [
      "Capacitor (35/5)", "Capacitor (40/5)", "Capacitor (45/5)", "Capacitor (55/5)",
      "Contactor (1 Pole)", "Contactor (2 Pole)", "Hard Start Kit", "TXV Valve",
      "Drain Line", "Line Set 3/8 x 3/4", "Line Set 3/8 x 7/8", "Condenser Pad",
      "Disconnect Box", "Whip", "Float Switch", "Thermostat (Non-Programmable)",
      "Thermostat (WiFi)", "PVC Pipe (3/4 inch)", "Tape", "Zip Ties", "Refrigerant (R410A)"
    ];
    const grid = document.getElementById('parts-grid');
    const counts = {};
    parts.forEach(part => {
      counts[part] = 0;
      const btn = document.createElement('button');
      btn.type = 'button';
      btn.className = 'part-button';
      btn.innerText = part;
      const countBadge = document.createElement('div');
      countBadge.className = 'count';
      countBadge.innerText = '0';
      btn.appendChild(countBadge);
      btn.onclick = () => {
        counts[part]++;
        countBadge.innerText = counts[part];
      };
      grid.appendChild(btn);
    });

    document.getElementById('submit-btn').onclick = () => {
      const entries = Object.entries(counts).filter(([p,q]) => q>0);
      if (!entries.length) return alert('No parts selected');
      let body = 'Parts Restock Request:\n';
      entries.forEach(([p,q]) => body += `${p} - Qty: ${q}\n`);
      const mailto = `mailto:warehouse@cowboysac.com?subject=Parts Restock Request&body=${encodeURIComponent(body)}`;
      window.location.href = mailto;
    };

    // Header updates
    function updateDateTime(){ document.getElementById('current-datetime').textContent = new Date().toLocaleString(); }
    setInterval(updateDateTime,1000); updateDateTime();
    document.getElementById('weather-info').textContent = '72°F Sunny';
  </script>
</body>
</html>
