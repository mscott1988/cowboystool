
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Cowboys AC Performance Board</title>
  <style>
    :root {
      --bg-color: #0B1F3A;
      --text-color: #FFFFFF;
      --accent-color: #E63946;
    }
    body {
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      background-color: var(--bg-color);
      color: var(--text-color);
      padding: 20px;
    }
    #background-svg {
      position: fixed;
      top: 0; left: 0;
      width: 100vw; height: 100vh;
      background: url('assets/circuit.svg') repeat-x;
      background-size: 200% 100%;
      opacity: 0.08;
      pointer-events: none;
      animation: pan 60s linear infinite;
      z-index: 0;
    }
    @keyframes pan {
      from { background-position: 0 0; }
      to { background-position: -100% 0; }
    }
    header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      z-index: 1;
      position: relative;
    }
    header img {
      height: 80px;
    }
    h1 {
      font-size: 2rem;
      color: var(--accent-color);
    }
    label, select, input, textarea {
      margin: 10px 5px;
      font-size: 1rem;
    }
    .grid {
      margin-top: 20px;
      background: #334232;
      padding: 10px;
      border-radius: 10px;
    }
    table {
      width: 100%;
      border-collapse: collapse;
      margin-top: 10px;
    }
    table, th, td {
      border: 1px solid #ccc;
    }
    th, td {
      padding: 8px;
      text-align: center;
    }
    .notes {
      margin-top: 20px;
    }
    .generate-btn {
      background-color: var(--accent-color);
      color: white;
      padding: 10px 20px;
      font-size: 1rem;
      border: none;
      border-radius: 5px;
      cursor: pointer;
    }
    .generate-btn:hover {
      background-color: #c22d38;
    }
    footer {
      margin-top: 30px;
      font-size: 0.9rem;
      text-align: center;
      color: #ccc;
    }
  </style>
</head>
<body>
  <div id="background-svg"></div>

  <header>
    <img src="assets/cowboyslogo.png" alt="Cowboys AC Logo" />
    <div>
      <h1>Daily Performance Entry</h1>
      <p id="date"></p>
    </div>
  </header>

  <section>
    <label for="employee">Name:</label>
    <select id="employee">
      <option>Anthony</option>
      <option>Lulu</option>
      <option>Marcela</option>
      <option>Michell</option>
      <option>Alisha</option>
      <option>Bryan</option>
    </select>

    <label for="category">Category:</label>
    <select id="category">
      <option>Top Board</option>
      <option>New</option>
      <option>Customers</option>
    </select>

    <label for="day">Day:</label>
    <select id="day">
      <option>Thursday</option>
      <option>Friday</option>
      <option>Saturday</option>
      <option>Monday</option>
      <option>Tuesday</option>
      <option>Wednesday</option>
    </select>

    <label for="value">Value:</label>
    <input type="number" id="value" min="0" />
    <button onclick="addEntry()">Add Entry</button>
  </section>

  <div class="grid" id="performanceTable"></div>

  <div class="notes">
    <label for="dailyNotes">Daily Notes:</label><br />
    <textarea id="dailyNotes" rows="3" cols="50"></textarea><br />
    <label for="weeklyNotes">Weekly Notes:</label><br />
    <textarea id="weeklyNotes" rows="4" cols="50"></textarea>
  </div>

  <button class="generate-btn" onclick="generatePDF()">Generate PDF</button>

  <footer>
    &copy; 2025 Cowboys AC – cowboysac.com
  </footer>

  <script>
    document.getElementById("date").innerText = `Generated: ${new Date().toLocaleDateString()}`;
    let data = {};

    function addEntry() {
      const name = document.getElementById('employee').value;
      const day = document.getElementById('day').value;
      const category = document.getElementById('category').value;
      const value = parseInt(document.getElementById('value').value);

      if (!data[name]) data[name] = {};
      if (!data[name][category]) data[name][category] = {};
      data[name][category][day] = value;
      renderTable();
    }

    function renderTable() {
      let html = '<table><thead><tr><th>Name</th><th>Category</th>';
      const days = ['Thursday','Friday','Saturday','Monday','Tuesday','Wednesday'];
      days.forEach(d => html += `<th>${d}</th>`);
      html += '</tr></thead><tbody>';

      for (let name in data) {
        for (let cat in data[name]) {
          html += `<tr><td>${name}</td><td>${cat}</td>`;
          days.forEach(day => {
            html += `<td>${data[name][cat][day] || 0}</td>`;
          });
          html += '</tr>';
        }
      }

      html += '</tbody></table>';
      document.getElementById('performanceTable').innerHTML = html;
    }

    function generatePDF() {
      alert("PDF export coming in next version. You'll get your logo, table, notes, and footer.");
    }
  </script>

<script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
<script src="https://html2canvas.hertzen.com/dist/html2canvas.min.js"></script>
<script>
  async function generatePDF() {
    const { jsPDF } = window.jspdf;
    const doc = new jsPDF('p', 'pt', 'a4');
    const scale = 2;

    const content = document.body;
    const canvas = await html2canvas(content, {
      scale: scale,
      useCORS: true,
      scrollY: -window.scrollY
    });

    const imgData = canvas.toDataURL('image/png');
    const imgProps = doc.getImageProperties(imgData);
    const pdfWidth = doc.internal.pageSize.getWidth();
    const pdfHeight = (imgProps.height * pdfWidth) / imgProps.width;

    doc.addImage(imgData, 'PNG', 0, 0, pdfWidth, pdfHeight);

    const today = new Date();
    const filename = `CSR Report Weekly – ${today.getMonth()+1}-${today.getDate()}-${today.getFullYear()}.pdf`;

    doc.save(filename);
  }
</script>
</body>
</html>
